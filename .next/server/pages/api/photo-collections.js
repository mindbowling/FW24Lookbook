"use strict";(()=>{var e={};e.id=822,e.ids=[822],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},5628:(e,t,r)=>{r.r(t),r.d(t,{config:()=>m,default:()=>f,routeModule:()=>P});var o={};r.r(o),r.d(o,{default:()=>u});var n=r(1802),i=r(7153),a=r(6249);let s=require("fs"),l=require("path");var c=r.n(l);async function u(e,t){if("GET"!==e.method){t.status(405).json({error:"Method not allowed"});return}try{let e=c().join(process.cwd(),"public/images"),r=c().join(process.cwd(),"directory-order.txt"),o=[];try{o=(await s.promises.readFile(r,"utf8")).split("\n").map(e=>e.trim()).filter(Boolean)}catch(e){console.warn("Failed to read directory-order.txt. Falling back to alphabetical order.")}let n=await d(e,o);t.status(200).json(n)}catch(e){console.error("Error in photo collections API:",e),t.status(500).json({error:"Failed to fetch photo collections"})}}async function d(e,t){let r=await s.promises.readdir(e,{withFileTypes:!0}),o=[];for(let t of r)if(t.isDirectory()){let r=c().join(e,t.name),n=await p(r);o.push({name:t.name,photos:n.map(e=>({url:`/images/${t.name}/${e}`}))})}return t.length>0&&o.sort((e,r)=>{let o=t.indexOf(e.name),n=t.indexOf(r.name);return -1===o&&-1===n?0:-1===o?1:-1===n?-1:o-n}),o}async function p(e){return(await s.promises.readdir(e)).filter(e=>/\.(jpg|jpeg|png|gif)$/i.test(e))}let f=(0,a.l)(o,"default"),m=(0,a.l)(o,"config"),P=new n.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/photo-collections",pathname:"/api/photo-collections",bundlePath:"",filename:""},userland:o})},7153:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{e.exports=r(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=t(t.s=5628);module.exports=r})();